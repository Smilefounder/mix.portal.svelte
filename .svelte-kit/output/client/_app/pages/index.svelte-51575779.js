import{Y as t,Z as e,_ as s,S as n,i,s as r,e as a,t as o,c as h,a as c,g as l,d as u,f as d,W as p,h as g,k as m,n as f,b as $,$ as v,X as b,a0 as x,z as k,j as U,m as w,o as M,v as C,r as _,w as T}from"../chunks/vendor-4168d81c.js";var E,L;(L=E||(E={}))[L.Asc=0]="Asc",L[L.Desc=1]="Desc";function I(){return{withCredentials:!0,timeout:3e4,baseURL:"",headers:{common:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache","Content-Type":"application/json",Accept:"application/json"}},paramsSerializer:function(e){return t.stringify(e,{arrayFormat:"brackets"})}}}class P extends class{constructor(t){this._initializeResponseInterceptor=()=>{this.instance.interceptors.response.use(this._handleResponse,this._handleError),this.instance.interceptors.request.use(this._handleRequest,this._handleError)},this._handleRequest=t=>{if(this.instance.defaults.withCredentials){let e=this.getCredentialToken();e&&(t.headers.common.Authorization=e)}return t},this._handleResponse=({data:t})=>t,this._handleError=t=>Promise.reject(t);let s=t||I();this.instance=e.create(s),this._initializeResponseInterceptor()}getCredentialToken(){return s.LocalStorage.getItem("Authorization")?`Bearer ${s.LocalStorage.getItem("Authorization")}`:""}}{constructor(t){super(t),this.token="",this.getToken=this.getToken.bind(this),this.setToken=this.setToken.bind(this),this.getUri=this.instance.getUri.bind(this),this.request=this.instance.request.bind(this),this.get=this.instance.get.bind(this),this.options=this.instance.options.bind(this),this.delete=this.instance.delete.bind(this),this.head=this.instance.head.bind(this),this.post=this.instance.post.bind(this),this.put=this.instance.put.bind(this),this.patch=this.instance.patch.bind(this),this.success=this.success.bind(this),this.error=this.error.bind(this)}getToken(){return`Bearer ${this.token}`}setToken(t){this.token=t}getUri(t){return this.getUri(t)}request(t){return this.request(t)}get(t,e){return this.get(t,e)}options(t,e){return this.options(t,e)}delete(t,e){return this.delete(t,e)}head(t,e){return this.head(t,e)}post(t,e,s){return this.post(t,e,s)}put(t,e,s){return this.put(t,e,s)}patch(t,e,s){return this.patch(t,e,s)}success(t){return t.data}error(t){throw t}}new class extends P{constructor(t){super(t),this.userLogin=this.userLogin.bind(this)}userLogin(t){return this.post("security/login",t).then(this.success)}};class S extends P{constructor(t,e,s,n,i){super(i),this.instance.defaults.baseURL=t,this.modelUrl=`${e}/${s}`,n&&(this.modelUrl=`${n}/${e}/${s}`)}getSingleModel(t,e){return this.instance.defaults.params=e,this.get(`${this.modelUrl}/${t}`)}getDefaultModel(t){return this.instance.defaults.params=t,this.get("default")}getListModel(t){return this.instance.defaults.params=t,this.get(this.modelUrl)}createModel(t){return this.post(this.modelUrl,t)}updateModel(t,e){return this.put(`${this.modelUrl}${t}`,e)}updateFields(t,e){return this.patch(`${this.modelUrl}/${t}`,e)}deleteModel(t){return this.delete(`${t}`)}duplicateModel(t,e){return this.instance.defaults.params=e,this.get(`${this.modelUrl}/duplicate/${t}`)}exportListModel(t){return this.instance.defaults.params=t,this.get("${this.modelUrl}/export")}clearCache(t){return this.get(`${this.modelUrl}/remove-cache/${t}`)}}var D,R;(R=D||(D={})).Page="page",R.Post="post",R.Module="module",R.Database="mix-database",R.DatabaseData="mix-database-data";function q(t,e,s){const n=t.slice();return n[7]=e[s],n}function y(t){let e,s;return{c(){e=a("p"),s=o("loading...")},l(t){e=h(t,"P",{});var n=c(e);s=l(n,"loading..."),n.forEach(u)},m(t,n){d(t,e,n),p(e,s)},d(t){t&&u(e)}}}function z(t){let e,s,n=t[7].title+"";return{c(){e=a("h1"),s=o(n)},l(t){e=h(t,"H1",{});var i=c(e);s=l(i,n),i.forEach(u)},m(t,n){d(t,e,n),p(e,s)},p(t,e){2&e&&n!==(n=t[7].title+"")&&g(s,n)},d(t){t&&u(e)}}}function A(t){let e,s,n,i,r,k,U,w,M,C,_,T,E=t[1],L=[];for(let a=0;a<E.length;a+=1)L[a]=z(q(t,E,a));let I=null;return E.length||(I=y()),{c(){e=a("div"),s=a("button"),n=o("Clicks: "),i=o(t[0]),r=m(),k=o(t[2]),U=o(": "),w=o(t[0]),M=m(),C=a("div");for(let t=0;t<L.length;t+=1)L[t].c();I&&I.c(),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=c(e);s=h(o,"BUTTON",{class:!0});var d=c(s);n=l(d,"Clicks: "),i=l(d,t[0]),d.forEach(u),r=f(o),k=l(o,t[2]),U=l(o,": "),w=l(o,t[0]),o.forEach(u),M=f(a),C=h(a,"DIV",{class:!0});var p=c(C);for(let t=0;t<L.length;t+=1)L[t].l(p);I&&I.l(p),p.forEach(u),this.h()},h(){$(s,"class","svelte-16cw56t"),$(e,"class","buttonComp svelte-16cw56t"),$(C,"class","photos")},m(a,o){d(a,e,o),p(e,s),p(s,n),p(s,i),p(e,r),p(e,k),p(e,U),p(e,w),d(a,M,o),d(a,C,o);for(let t=0;t<L.length;t+=1)L[t].m(C,null);I&&I.m(C,null),_||(T=v(s,"click",t[5]),_=!0)},p(t,[e]){if(1&e&&g(i,t[0]),4&e&&g(k,t[2]),1&e&&g(w,t[0]),2&e){let s;for(E=t[1],s=0;s<E.length;s+=1){const n=q(t,E,s);L[s]?L[s].p(n,e):(L[s]=z(n),L[s].c(),L[s].m(C,null))}for(;s<L.length;s+=1)L[s].d(1);L.length=E.length,E.length?I&&(I.d(1),I=null):I||(I=y(),I.c(),I.m(C,null))}},i:b,o:b,d(t){t&&u(e),t&&u(M),t&&u(C),x(L,t),I&&I.d(),_=!1,T()}}}function j(t,e,s){var n=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(i,r){function a(t){try{h(n.next(t))}catch(e){r(e)}}function o(t){try{h(n.throw(t))}catch(e){r(e)}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}h((n=n.apply(t,e||[])).next())}))};let{count:i=0}=e,{text:r=""}=e;function a(){return s(0,i+=1)}class o extends S{constructor(){var t=I();t.withCredentials=!1,super("https://store.mixcore.org/api/v1/rest/",D.Post,"mvc","en-us",t)}getSingleModel(t){return super.getSingleModel(t,{kw:"test"})}}let{response:h=[]}=e;k((()=>n(void 0,void 0,void 0,(function*(){(new o).getListModel().then((t=>{s(1,h=t.items),console.log(t)}))}))));return t.$$set=t=>{"count"in t&&s(0,i=t.count),"text"in t&&s(2,r=t.text),"response"in t&&s(1,h=t.response)},[i,h,r,a,o,()=>s(0,i=a())]}class B extends n{constructor(t){super(),i(this,t,j,A,r,{count:0,text:2,mainIncrement:3,PostService:4,response:1})}get mainIncrement(){return this.$$.ctx[3]}get PostService(){return this.$$.ctx[4]}}function W(t){let e,s,n,i,r,g;return r=new B({}),{c(){e=a("main"),s=a("h1"),n=o("Welcome to Mixcore"),i=m(),U(r.$$.fragment)},l(t){e=h(t,"MAIN",{});var a=c(e);s=h(a,"H1",{});var o=c(s);n=l(o,"Welcome to Mixcore"),o.forEach(u),i=f(a),w(r.$$.fragment,a),a.forEach(u)},m(t,a){d(t,e,a),p(e,s),p(s,n),p(e,i),M(r,e,null),g=!0},p:b,i(t){g||(C(r.$$.fragment,t),g=!0)},o(t){_(r.$$.fragment,t),g=!1},d(t){t&&u(e),T(r)}}}const F=!1;export default class extends n{constructor(t){super(),i(this,t,null,W,r,{})}}export{F as ssr};
